<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problema MutÄƒrii Pachetelor - DinamicGreedy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 102, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 245, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 70%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(255, 0, 128, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
            z-index: -1;
            animation: meshMove 20s ease-in-out infinite;
        }

        @keyframes meshMove {
            0%, 100% {
                background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 0% 0%;
            }
            50% {
                background-position: 100% 100%, 0% 0%, 100% 100%, 0% 0%, 50% 50%;
            }
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            padding: 1.5rem 0;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 3rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #00f5ff, #0066ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, #0066ff, #00f5ff);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 20px rgba(0, 102, 255, 0.3);
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.5);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 3rem 5rem;
        }

        .problem-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .problem-title {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #00f5ff, #0066ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .problem-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            background: rgba(0, 102, 255, 0.1);
            border: 1px solid rgba(0, 245, 255, 0.3);
            border-radius: 20px;
            font-size: 0.95rem;
        }

        .difficulty-easy {
            background: rgba(46, 213, 115, 0.2);
            border-color: #2ed573;
            color: #2ed573;
        }

        .difficulty-medium {
            background: rgba(255, 159, 67, 0.2);
            border-color: #ff9f43;
            color: #ff9f43;
        }

        .difficulty-hard {
            background: rgba(255, 71, 87, 0.2);
            border-color: #ff4757;
            color: #ff4757;
        }

        .content-section {
            background: linear-gradient(145deg, rgba(20, 20, 20, 0.8), rgba(30, 30, 30, 0.6));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.05), rgba(0, 245, 255, 0.05));
            opacity: 0;
            transition: opacity 0.4s;
        }

        .content-section:hover::before {
            opacity: 1;
        }

        .section-title {
            font-size: 1.8rem;
            color: #00f5ff;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            position: relative;
            z-index: 1;
        }

        .section-content {
            color: #b0b0b0;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        .section-content p {
            margin-bottom: 1rem;
        }

        .section-content ul, .section-content ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .section-content li {
            margin-bottom: 0.5rem;
        }

        .example-box {
            background: rgba(0, 102, 255, 0.1);
            border-left: 4px solid #00f5ff;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
        }

        .example-label {
            color: #00f5ff;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        code {
            background: rgba(0, 245, 255, 0.1);
            padding: 0.2rem 0.6rem;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            color: #00f5ff;
        }

        pre {
            background: rgba(10, 10, 10, 0.8);
            border: 1px solid rgba(0, 245, 255, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: #e0e0e0;
        }

        .hint-box {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1), rgba(0, 245, 255, 0.1));
            border: 1px solid rgba(138, 43, 226, 0.4);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .hint-title {
            color: #ba55d3;
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .solution-toggle {
            background: linear-gradient(135deg, #0066ff, #00f5ff);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 20px rgba(0, 102, 255, 0.3);
            margin: 2rem 0;
        }

        .solution-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.5);
        }

        .solution-content {
            display: none;
            animation: slideDown 0.4s ease-out;
        }

        .solution-content.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 100px 1.5rem 3rem;
            }

            .problem-title {
                font-size: 2rem;
            }

            .content-section {
                padding: 2rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            nav {
                padding: 0 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo">{ DinamicGreedy }</a>
            <a href="index.html#probleme" class="back-btn">
                â† Ãnapoi la Probleme
            </a>
        </nav>
    </header>

    <div class="container">
        <!-- Problem Header -->
        <div class="problem-header">
            <h1 class="problem-title">ğŸ“¦ Problema MutÄƒrii Pachetelor</h1>
            <div class="problem-meta">
                <div class="meta-item difficulty-medium">
                    <span>ğŸ“Š</span>
                    <span>Dificultate: Mediu</span>
                </div>
                <div class="meta-item">
                    <span>ğŸ¯</span>
                    <span>Tip: Greedy + Cicluri</span>
                </div>
                <div class="meta-item">
                    <span>â±ï¸</span>
                    <span>Timp: 30-40 min</span>
                </div>
            </div>
        </div>

        <!-- EnunÈ› -->
        <div class="content-section">
            <h2 class="section-title">ğŸ“ EnunÈ›ul Problemei</h2>
            <div class="section-content">
                <p>
                    Ãntr-un depozit foarte mare existÄƒ un raft cu <code>n+1</code> spaÈ›ii de depozitare, numerotate de la <code>1</code> la <code>n+1</code>.
                </p>
                <ul>
                    <li>Primele <code>n</code> spaÈ›ii de depozitare sunt ocupate cu <code>n</code> pachete numerotate cu valori Ã®ntre 1 È™i n</li>
                    <li>SpaÈ›iul de depozitare <code>n+1</code> este gol</li>
                </ul>
                <p>
                    Administratorul depozitului decide mutarea pachetelor, astfel Ã®ncÃ¢t pentru orice <code>i</code>, 
                    pachetul numerotat cu <code>i</code> sÄƒ se afle Ã®n spaÈ›iul de depozitare <code>i</code>.
                </p>
                <p>
                    Pentru aceasta se va folosi spaÈ›iul de depozitare suplimentar, <code>n+1</code>, singura manevrÄƒ validÄƒ 
                    fiind mutarea unui pachet dintr-un spaÈ›iu de depozitare Ã®n altul, cu condiÈ›ia ca acesta sÄƒ fie gol.
                </p>
                <p>
                    <strong>DeterminaÈ›i o succesiune de manevre prin care fiecare pachet sÄƒ fie Ã®n spaÈ›iul corect.</strong>
                </p>
            </div>
        </div>

        <!-- Date de Intrare/IeÈ™ire -->
        <div class="content-section">
            <h2 class="section-title">ğŸ“¥ Date de Intrare È™i IeÈ™ire</h2>
            <div class="section-content">
                <p><strong>Intrare:</strong> (fiÈ™ierul <code>pachete_multe.in</code>)</p>
                <ul>
                    <li><code>n</code> - numÄƒrul de pachete (pe prima linie)</li>
                    <li>Pe urmÄƒtoarea linie: <code>n</code> numere reprezentÃ¢nd pachetele din poziÈ›iile 1, 2, ..., n</li>
                </ul>
                
                <p><strong>IeÈ™ire:</strong> (fiÈ™ierul <code>pachete_multe.out</code>)</p>
                <ul>
                    <li>Pe prima linie: numÄƒrul total de mutÄƒri efectuate</li>
                    <li>Pe urmÄƒtoarele linii: perechi de numere <code>de_la</code> È™i <code>la</code>, reprezentÃ¢nd mutarea pachetului din poziÈ›ia <code>de_la</code> Ã®n poziÈ›ia <code>la</code></li>
                </ul>

                <div class="example-box">
                    <div class="example-label">Exemplu 1:</div>
                    <strong>Intrare:</strong><br>
                    3<br>
                    2 3 1<br><br>
                    <strong>ExplicaÈ›ie:</strong> PoziÈ›ia 1 conÈ›ine pachetul 2, poziÈ›ia 2 conÈ›ine pachetul 3, poziÈ›ia 3 conÈ›ine pachetul 1<br><br>
                    <strong>IeÈ™ire:</strong><br>
                    6<br>
                    1 4<br>
                    3 1<br>
                    2 3<br>
                    4 2<br>
                    <em>(ConfiguraÈ›ie finalÄƒ: pachetul 1 la poziÈ›ia 1, pachetul 2 la poziÈ›ia 2, pachetul 3 la poziÈ›ia 3)</em>
                </div>

                <div class="example-box">
                    <div class="example-label">Exemplu 2:</div>
                    <strong>Intrare:</strong><br>
                    4<br>
                    1 2 4 3<br><br>
                    <strong>ExplicaÈ›ie:</strong> Pachetele 1 È™i 2 sunt deja la locul lor, doar 3 È™i 4 trebuie schimbate<br><br>
                    <strong>IeÈ™ire:</strong><br>
                    3<br>
                    3 5<br>
                    4 3<br>
                    5 4
                </div>
            </div>
        </div>

        <!-- CerinÈ›e -->
        <div class="content-section">
            <h2 class="section-title">âœ… CerinÈ›e</h2>
            <div class="section-content">
                <ol>
                    <li>CitiÈ›i configuraÈ›ia iniÈ›ialÄƒ a pachetelor</li>
                    <li>IdentificaÈ›i pachetele care nu sunt la locul lor</li>
                    <li>FolosiÈ›i spaÈ›iul liber (n+1) pentru a muta pachetele</li>
                    <li>Pentru fiecare poziÈ›ie i, aduceÈ›i pachetul i la locul sÄƒu</li>
                    <li>AfiÈ™aÈ›i toate mutÄƒrile efectuate Ã®n ordine</li>
                </ol>
            </div>
        </div>

        <!-- Hint -->
        <div class="hint-box">
            <div class="hint-title">ğŸ’¡ Hint</div>
            <div class="section-content">
                <p>
                    Pentru fiecare poziÈ›ie <code>i</code> de la 1 la n, verificÄƒ dacÄƒ pachetul <code>i</code> este deja la locul lui. 
                    DacÄƒ nu, elibereazÄƒ mai Ã®ntÃ¢i poziÈ›ia <code>i</code> (mutÃ¢nd ce e acolo Ã®n spaÈ›iul liber), apoi adu pachetul <code>i</code> 
                    din poziÈ›ia lui curentÄƒ la poziÈ›ia <code>i</code>. Èšine evidenÈ›a unde se aflÄƒ fiecare pachet È™i care poziÈ›ie este liberÄƒ.
                </p>
            </div>
        </div>

        <!-- Abordare -->
        <div class="content-section">
            <h2 class="section-title">ğŸ” Abordarea Greedy</h2>
            <div class="section-content">
                <p>Problema se rezolvÄƒ folosind strategia Greedy Ã®n urmÄƒtorii paÈ™i:</p>
                <ol>
                    <li><strong>IniÈ›ializare:</strong> MemorÄƒm ce pachet este Ã®n fiecare spaÈ›iu È™i unde se aflÄƒ fiecare pachet</li>
                    <li><strong>Parcurgere secvenÈ›ialÄƒ:</strong> Pentru fiecare poziÈ›ie i de la 1 la n:</li>
                    <ul>
                        <li>DacÄƒ pachetul i este deja la poziÈ›ia i, continuÄƒm</li>
                        <li>Altfel, eliberÄƒm poziÈ›ia i (dacÄƒ nu e deja goalÄƒ) mutÃ¢nd conÈ›inutul Ã®n spaÈ›iul liber</li>
                        <li>MutÄƒm pachetul i din poziÈ›ia lui curentÄƒ la poziÈ›ia i</li>
                    </ul>
                    <li><strong>Actualizare:</strong> DupÄƒ fiecare mutare, actualizÄƒm poziÈ›ia liberÄƒ È™i evidenÈ›a pachetelor</li>
                </ol>
                
                <p><strong>De ce funcÈ›ioneazÄƒ Greedy?</strong></p>
                <p>
                    Deoarece rezolvÄƒm problema poziÈ›ie cu poziÈ›ie, Ã®n ordine crescÄƒtoare. OdatÄƒ ce am pus pachetul <code>i</code> 
                    la poziÈ›ia <code>i</code>, nu Ã®l mai mutÄƒm niciodatÄƒ. Astfel, cÃ¢nd ajungem la poziÈ›ia <code>i+1</code>, 
                    poziÈ›iile 1, 2, ..., i sunt deja finalizate È™i nu le mai atingem.
                </p>
            </div>
        </div>

        <!-- SoluÈ›ie Button -->
        <button class="solution-toggle" onclick="toggleSolution()">
            ğŸ”“ AfiÈ™eazÄƒ SoluÈ›ia
        </button>

        <!-- SoluÈ›ie (Hidden) -->
        <div id="solution" class="solution-content">
            <div class="content-section">
                <h2 class="section-title">ğŸ’» SoluÈ›ia Ã®n C++</h2>
                <div class="section-content">
                    <pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;

const int N = 100005;
int n;
int spatiu[N]; // spatiu[i] = ce pachet este Ã®n poziÈ›ia i (0 = gol)
int pozitie[N]; // pozitie[i] = la ce poziÈ›ie se aflÄƒ pachetul i
int liber; // poziÈ›ia liberÄƒ (n+1)
int mutari = 0;

int mutari_de_la[2 * N]; // de unde mutÄƒm
int mutari_la[2 * N]; // unde mutÄƒm

// MutÄƒ pachetul din poziÈ›ia 'de_la' Ã®n poziÈ›ia liberÄƒ
void muta(int de_la) {
    mutari++;
    mutari_de_la[mutari] = de_la;
    mutari_la[mutari] = liber;
    
    spatiu[liber] = spatiu[de_la]; // punem pachetul Ã®n poziÈ›ia liberÄƒ
    pozitie[spatiu[de_la]] = liber; // actualizÄƒm poziÈ›ia pachetului
    spatiu[de_la] = 0; // poziÈ›ia anterioarÄƒ devine goalÄƒ
    liber = de_la; // devine noua poziÈ›ie liberÄƒ
}

int main() {
    ifstream f("pachete_multe.in");
    ofstream g("pachete_multe.out");

    f >> n;

    // Citim pachetele din primele n poziÈ›ii
    for (int i = 1; i <= n; ++i) {
        f >> spatiu[i];
        pozitie[spatiu[i]] = i;
    }

    // PoziÈ›ia n+1 este goalÄƒ
    spatiu[n + 1] = 0;
    liber = n + 1;

    // Parcurgem toate poziÈ›iile de la 1 la n
    for (int i = 1; i <= n; ++i) {
        if (spatiu[i] != i) {
            if (spatiu[i] != 0) {
                muta(i); // eliberÄƒm poziÈ›ia i
            }
            muta(pozitie[i]); // aducem pachetul i la poziÈ›ia i
        }
    }

    // Scriem rezultatul
    g << mutari << endl;
    for (int i = 1; i <= mutari; ++i) {
        g << mutari_de_la[i] << " " << mutari_la[i] << endl;
    }

    return 0;
}</code></pre>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">ğŸ“Š ExplicaÈ›ie Pas cu Pas</h2>
                <div class="section-content">
                    <p><strong>Pentru n = 3, pachete: 2 3 1</strong></p>
                    <p><em>ConfiguraÈ›ie iniÈ›ialÄƒ:</em> PoziÈ›ia 1â†’pachet 2, PoziÈ›ia 2â†’pachet 3, PoziÈ›ia 3â†’pachet 1, PoziÈ›ia 4â†’gol</p>
                    <ol>
                        <li><strong>i = 1:</strong> spatiu[1] = 2 â‰  1
                            <ul>
                                <li>EliberÄƒm poziÈ›ia 1: mutÄƒm pachetul 2 din poziÈ›ia 1 Ã®n poziÈ›ia 4 (liber)</li>
                                <li>Aducem pachetul 1: mutÄƒm pachetul 1 din poziÈ›ia 3 Ã®n poziÈ›ia 1 (liber)</li>
                            </ul>
                        </li>
                        <li><strong>i = 2:</strong> spatiu[2] = 3 â‰  2
                            <ul>
                                <li>EliberÄƒm poziÈ›ia 2: mutÄƒm pachetul 3 din poziÈ›ia 2 Ã®n poziÈ›ia 3 (liber)</li>
                                <li>Aducem pachetul 2: mutÄƒm pachetul 2 din poziÈ›ia 4 Ã®n poziÈ›ia 2 (liber)</li>
                            </ul>
                        </li>
                        <li><strong>i = 3:</strong> spatiu[3] = 3 = 3 âœ“ (deja la locul lui)</li>
                    </ol>
                    <p><strong>Total: 4 mutÄƒri</strong></p>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">ğŸ¯ Structuri de Date Folosite</h2>
                <div class="section-content">
                    <ul>
                        <li><strong>spatiu[i]:</strong> ce pachet se aflÄƒ Ã®n poziÈ›ia i (0 dacÄƒ poziÈ›ia e goalÄƒ)</li>
                        <li><strong>pozitie[i]:</strong> la ce poziÈ›ie se aflÄƒ pachetul i</li>
                        <li><strong>liber:</strong> care poziÈ›ie este liberÄƒ Ã®n momentul curent</li>
                        <li><strong>mutari_de_la[], mutari_la[]:</strong> vectori pentru a memora mutÄƒrile efectuate</li>
                    </ul>
                    <p>
                        Aceste structuri ne permit sÄƒ gÄƒsim rapid unde se aflÄƒ un pachet È™i sÄƒ actualizÄƒm 
                        eficient configuraÈ›ia dupÄƒ fiecare mutare.
                    </p>
                </div>
            </div>

            <div class="content-section">
                <h2 class="section-title">ğŸ“Š Complexitate</h2>
                <div class="section-content">
                    <ul>
                        <li><strong>Timp:</strong> O(n), unde n este numÄƒrul de pachete</li>
                        <li><strong>SpaÈ›iu:</strong> O(n), pentru vectorii de stocare</li>
                        <li><strong>NumÄƒr de mutÄƒri:</strong> Maxim 2n mutÄƒri (Ã®n cel mai rÄƒu caz, pentru fiecare poziÈ›ie facem 2 mutÄƒri)</li>
                    </ul>
                    <p>
                        Algoritmul este foarte eficient deoarece fiecare pachet este mutat de maximum 2 ori: 
                        o datÄƒ cÃ¢nd eliberÄƒm poziÈ›ia È™i o datÄƒ cÃ¢nd Ã®l aducem la locul lui final.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleSolution() {
            const solution = document.getElementById('solution');
            const button = document.querySelector('.solution-toggle');
            
            solution.classList.toggle('active');
            
            if (solution.classList.contains('active')) {
                button.textContent = 'ğŸ”’ Ascunde SoluÈ›ia';
                solution.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } else {
                button.textContent = 'ğŸ”“ AfiÈ™eazÄƒ SoluÈ›ia';
            }
        }
    </script>
</body>
</html>